<!-- è¡¨å•æ¸²æŸ“å™¨æµ‹è¯• -->
<template>
    <FormRenderer :fields="testFields" :readonly="false" :columns="4" :controls="undefined"
        @rendered="hd => handle = hd" />
    <div class="formrenderer-test-buttons">
        <button @click="getFieldValue">è·å–å€¼</button>
        <button @click="setFieldValue">è®¾ç½®å€¼</button>
    </div>
</template>

<script setup lang="ts">
import { ref, shallowRef, } from "vue";
import { components, FieldOptions, FieldContainerHandle, IFormDesignHandle, FormRenderHandle } from "../../libraries/snail.vue-form";

// *****************************************   ğŸ‘‰  ç»„ä»¶å®šä¹‰    *****************************************
//  1ã€propsã€eventã€modelã€components
const { FormRenderer } = components;
let handle: FormRenderHandle = undefined;


//  2ã€ç»„ä»¶äº¤äº’å˜é‡ã€å¸¸é‡
// æµ‹è¯•æ—¶
const testFields: FieldOptions<any>[] = [
    {
        "type": "Text",
        "id": "17700871262161",
        "title": "æ–‡æœ¬æ¡†(2)",
        "width": 3,
    },
    {
        "type": "Text",
        "id": "17700871270271",
        "title": "æ–‡æœ¬æ¡†(3)",
        "width": 2,
    },
    {
        "type": "Text",
        "id": "177008712702711",
        "title": "æ–‡æœ¬æ¡†(3)",
        "width": 2,
    },
    {
        "type": "Text",
        "id": "177008712702712",
        "title": "æ–‡æœ¬æ¡†(3)",
        "width": 2,
        hidden: true,
    },
    {
        "type": "Text",
        "id": "177008712702713",
        "title": "æ–‡æœ¬æ¡†(5)",
        "width": 3,
    }
]

// *****************************************   ğŸ‘‰  æ–¹æ³•+äº‹ä»¶    ****************************************
async function getFieldValue() {
    console.log(await handle.getValue('17700871262161'))
}
function setFieldValue() {
    handle.setValue('17700871262161', new Date().getTime());
}

// *****************************************   ğŸ‘‰  ç»„ä»¶æ¸²æŸ“    *****************************************
//  1ã€æ•°æ®åˆå§‹åŒ–ã€å˜åŒ–ç›‘å¬
//  2ã€ç”Ÿå‘½å‘¨æœŸå“åº”

</script>

<style lang="less">
// å¼•å…¥åŸºç¡€Mixinsæ ·å¼
@import "snail.view/dist/styles/mixins.less";

.snail-form-renderer {
    height: 80% !important;
    border: 1px solid #e0e1e2;
    margin-bottom: 10px;
}

.formrenderer-test-buttons {
    >button {
        margin-right: 20px;
    }
}
</style>