<!-- æ•°å­—ç±»æ§ä»¶çš„è®¾ç½®ï¼šé‡‘é¢-Moneyï¼Œç™¾åˆ†æ¯”-Percentï¼Œæ•°å€¼-Number
-->
<template>
    <FieldSettingProxy :="_" ref="setting-proxy">
        <FieldTitle :="_" />
        <FieldWidth :="_" />
        <!-- å­—æ®µå€¼ç›¸å…³é…ç½®:é»˜è®¤å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ã€å°æ•°ä½æ•°ã€å‰åç¼€ã€ã€ã€ã€-->
        <div class="setting-divider" />
        <FieldLikeNumber title="é»˜è®¤å€¼" :readonly="readonly" :value="field.value"
            @change="value => proxy.update('value', false, value)" />
        <FieldLikeNumber title="æœ€å°å€¼" :readonly="readonly" :value="field.settings.minValue"
            @change="value => proxy.update('minValue', true, value)" />
        <FieldLikeNumber title="æœ€å¤§å€¼" :readonly="readonly" :value="field.settings.maxValue"
            @change="value => proxy.update('maxValue', true, value)" />
        <FieldLikeNumber title="å°æ•°ä½æ•°" :readonly="readonly" :value="field.settings.precision" :abs-value="true"
            @change="value => proxy.update('precision', true, value)" />
        <!-- å…¶ä»–é…ç½®é¡¹ç›® -->
        <div class="setting-divider" />
        <FieldLikeBoolean title="å¿…å¡«" :readonly="readonly" :value="field.required"
            @change="value => proxy.update('required', false, value)" />
        <FieldLikeBoolean title="åªè¯»" :readonly="readonly" :value="field.readonly"
            @change="value => proxy.update('readonly', false, value)" />
        <FieldLikeBoolean title="éšè—" :readonly="readonly" :value="field.hidden"
            @change="value => proxy.update('hidden', false, value)" />
        <div class="setting-divider" />
        <FieldLikeText title="æç¤ºä¿¡æ¯" :readonly="readonly" :value="field.placeholder" :multiple="false"
            @change="value => proxy.update('placeholder', false, value)" />
        <FieldLikeText title="å­—æ®µè¯´æ˜" :readonly="readonly" :value="field.description" :multiple="false"
            @change="value => proxy.update('description', false, value)" />
    </FieldSettingProxy>
</template>

<script setup lang="ts">
import { isArrayNotEmpty, moveFromArray } from "snail.core";
import { Ref, ref, shallowRef, ShallowRef, useTemplateRef } from "vue";
import { components } from "snail.vue";
import { NumericControlSettings, } from "../../models/control-model";
import { FieldSettingOptions } from "../../models/field-setting";
import FieldSettingProxy from "../common/field-setting-proxy.vue";
import FieldTitle from "./atoms/field-title.vue";
import FieldWidth from "./atoms/field-width.vue";
import FieldLikeText from "./atoms/field-like-text.vue";
import FieldLikeBoolean from "./atoms/field-like-boolean.vue";
import FieldLikeNumber from "./atoms/field-like-number.vue";

// *****************************************   ğŸ‘‰  ç»„ä»¶å®šä¹‰    *****************************************
//  1ã€propsã€eventã€modelã€components
const _ = defineProps<FieldSettingOptions<NumericControlSettings>>();
const proxy = useTemplateRef("setting-proxy");
const { Choose, Sort, Icon, Button } = components;
const { field, readonly } = _;
//  2ã€ç»„ä»¶äº¤äº’å˜é‡ã€å¸¸é‡
field.settings || (field.settings = {});

// *****************************************   ğŸ‘‰  æ–¹æ³•+äº‹ä»¶    ****************************************

// *****************************************   ğŸ‘‰  ç»„ä»¶æ¸²æŸ“    *****************************************
//  1ã€æ•°æ®åˆå§‹åŒ–ã€å˜åŒ–ç›‘å¬
//  2ã€ç”Ÿå‘½å‘¨æœŸå“åº”

</script>

<style lang="less">
// å¼•å…¥åŸºç¡€Mixinsæ ·å¼
@import "snail.view/dist/styles/mixins.less";

.field-setting-proxy>.setting-item {}
</style>