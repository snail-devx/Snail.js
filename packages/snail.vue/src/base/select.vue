<!-- ä¸‹æ‹‰é€‰æ‹© ç»„ä»¶ï¼š
    1ã€æ”¯æŒåŸºç¡€çš„html select ï¼Œæ”¯æŒå¤šçº§é€‰æ‹©ï¼Œæ”¯æŒæœç´¢åŠŸèƒ½ 
-->
<template>
    <div class="snail-select" :class="{ 'readonly': proprs.readonly }">
        <!-- é€‰ä¸­é€‰é¡¹æ•°æ®ï¼šå¤šé€‰æ¨¡å¼ -->
        <div class="select-result" v-if="proprs.multiple == true">
            å¤šé€‰æ¨¡å¼
        </div>
        <!-- å•é€‰æ¨¡å¼ï¼šå­˜åœ¨å¤šä¸ªè·¯å¾„çš„æƒ…å†µ -->
        <div class="select-result" v-else>
            å•é€‰æ¨¡å¼
        </div>
        <Icon type="arrow" :size="24" color="#8a9099" style="transform: rotate(90deg);" />
        <!-- æ— é€‰é¡¹æ—¶çš„é€‚é…ï¼šæç¤ºæ— é€‰é¡¹ã€‚ã€‚ã€‚ -->
    </div>
</template>

<script setup lang="ts">
import { ref, shallowRef, watch, onActivated, onDeactivated } from "vue";
import Icon from "./icon.vue";
import { SelectEvents, SelectOptions } from "./models/select-model";

// *****************************************   ğŸ‘‰  ç»„ä»¶å®šä¹‰    *****************************************
//  1ã€propsã€data
const proprs = defineProps<SelectOptions<any>>();
const emits = defineEmits<SelectEvents<any>>();
//  2ã€å¯é€‰é…ç½®é€‰é¡¹
defineOptions({ name: "Select", inheritAttrs: true, });

// *****************************************   ğŸ‘‰  æ–¹æ³•+äº‹ä»¶    ****************************************

// *****************************************   ğŸ‘‰  ç»„ä»¶æ¸²æŸ“    *****************************************
//  1ã€æ•°æ®åˆå§‹åŒ–ã€å˜åŒ–ç›‘å¬
//  2ã€ç”Ÿå‘½å‘¨æœŸå“åº”

//      ç›‘å¬ç»„ä»¶æ¿€æ´»å’Œå¸è½½ï¼Œé€‚é…KeepAliveç»„ä»¶å†…ä½¿ç”¨
onActivated(() => console.log("onActivated"));
onDeactivated(() => console.log("onDeactivated"));
</script>

<style lang="less">
// å¼•å…¥åŸºç¡€Mixinsæ ·å¼
@import "snail.view/dist/styles/base-mixins.less";

.snail-select {
    background-color: white;
    width: 100%;
    height: 32px;
    border: 1px solid #dddfed;
    border-radius: 4px;
    cursor: pointer;
    color: #2e3033;
    //  flex å¸ƒå±€ï¼šdisplay: flexï¼Œalign-items ä¸ºcenter
    .flex-cross-center();

    //  å·²é€‰ç»“æœåŒºåŸŸ
    >div.select-result {
        flex: 1;
        padding: 0 6px;
        //  flex å¸ƒå±€ï¼šdisplay: flexï¼Œalign-items ä¸ºcenter
        .flex-cross-center();
        flex-wrap: nowrap;
    }

    >svg.snail-icon {
        flex-shrink: 0;
    }
}

// *****************************************   ğŸ‘‰  ç‰¹æ®Šæ ·å¼é€‚é…    *****************************************
//  åªè¯»æ ·å¼é€‚é…
.snail-select.readonly {
    cursor: auto;
}
</style>